{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../../services/auth.service\";\nimport * as i3 from \"@angular/common\";\nfunction SuccessComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵelement(1, \"div\", 5);\n    i0.ɵɵelementStart(2, \"h2\");\n    i0.ɵɵtext(3, \"Signing you in...\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\");\n    i0.ɵɵtext(5, \"Please wait while we complete your authentication.\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction SuccessComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 6)(1, \"h2\");\n    i0.ɵɵtext(2, \"Authentication Failed\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function SuccessComponent_div_3_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.goToLogin());\n    });\n    i0.ɵɵtext(6, \" Try Again \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r1.error);\n  }\n}\nexport class SuccessComponent {\n  constructor(route, router, authService) {\n    this.route = route;\n    this.router = router;\n    this.authService = authService;\n    this.isLoading = true;\n    this.error = null;\n  }\n  ngOnInit() {\n    this.route.queryParams.subscribe(params => {\n      const token = params['token'];\n      if (token) {\n        // Store the token\n        localStorage.setItem('token', token);\n        // Update auth service\n        this.authService.checkAuthStatus();\n        // Redirect to dashboard after a short delay\n        setTimeout(() => {\n          this.router.navigate(['/dashboard']);\n        }, 2000);\n      } else {\n        this.error = 'No authentication token received';\n        this.isLoading = false;\n      }\n    });\n  }\n  goToLogin() {\n    this.router.navigate(['/login']);\n  }\n  static {\n    this.ɵfac = function SuccessComponent_Factory(t) {\n      return new (t || SuccessComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.AuthService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: SuccessComponent,\n      selectors: [[\"app-success\"]],\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 4,\n      vars: 2,\n      consts: [[1, \"auth-container\"], [1, \"auth-card\"], [\"class\", \"loading-container\", 4, \"ngIf\"], [\"class\", \"error-container\", 4, \"ngIf\"], [1, \"loading-container\"], [1, \"spinner\"], [1, \"error-container\"], [1, \"btn\", \"btn-primary\", 3, \"click\"]],\n      template: function SuccessComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n          i0.ɵɵtemplate(2, SuccessComponent_div_2_Template, 6, 0, \"div\", 2)(3, SuccessComponent_div_3_Template, 7, 1, \"div\", 3);\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", ctx.isLoading);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.error);\n        }\n      },\n      dependencies: [CommonModule, i3.NgIf],\n      styles: [\".auth-container[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  min-height: 100vh;\\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\\n  padding: 20px;\\n}\\n\\n.auth-card[_ngcontent-%COMP%] {\\n  background: white;\\n  border-radius: 12px;\\n  padding: 40px;\\n  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);\\n  text-align: center;\\n  max-width: 400px;\\n  width: 100%;\\n}\\n\\n.loading-container[_ngcontent-%COMP%] {\\n  padding: 20px;\\n}\\n\\n.error-container[_ngcontent-%COMP%] {\\n  padding: 20px;\\n}\\n\\n.spinner[_ngcontent-%COMP%] {\\n  width: 40px;\\n  height: 40px;\\n  border: 4px solid #f3f3f3;\\n  border-top: 4px solid #667eea;\\n  border-radius: 50%;\\n  animation: _ngcontent-%COMP%_spin 1s linear infinite;\\n  margin: 0 auto 20px;\\n}\\n\\n@keyframes _ngcontent-%COMP%_spin {\\n  0% {\\n    transform: rotate(0deg);\\n  }\\n  100% {\\n    transform: rotate(360deg);\\n  }\\n}\\nh2[_ngcontent-%COMP%] {\\n  color: #333;\\n  margin-bottom: 16px;\\n}\\n\\np[_ngcontent-%COMP%] {\\n  color: #666;\\n  line-height: 1.5;\\n  margin-bottom: 24px;\\n}\\n\\n.btn[_ngcontent-%COMP%] {\\n  padding: 12px 24px;\\n  border: none;\\n  border-radius: 6px;\\n  font-size: 16px;\\n  font-weight: 500;\\n  cursor: pointer;\\n  transition: all 0.3s ease;\\n}\\n\\n.btn-primary[_ngcontent-%COMP%] {\\n  background: #667eea;\\n  color: white;\\n}\\n\\n.btn-primary[_ngcontent-%COMP%]:hover {\\n  background: #5a6fd8;\\n  transform: translateY(-2px);\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9hdXRoL3N1Y2Nlc3Mvc3VjY2Vzcy5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0k7RUFDRSxhQUFBO0VBQ0EsdUJBQUE7RUFDQSxtQkFBQTtFQUNBLGlCQUFBO0VBQ0EsNkRBQUE7RUFDQSxhQUFBO0FBQU47O0FBR0k7RUFDRSxpQkFBQTtFQUNBLG1CQUFBO0VBQ0EsYUFBQTtFQUNBLDBDQUFBO0VBQ0Esa0JBQUE7RUFDQSxnQkFBQTtFQUNBLFdBQUE7QUFBTjs7QUFHSTtFQUNFLGFBQUE7QUFBTjs7QUFHSTtFQUNFLGFBQUE7QUFBTjs7QUFHSTtFQUNFLFdBQUE7RUFDQSxZQUFBO0VBQ0EseUJBQUE7RUFDQSw2QkFBQTtFQUNBLGtCQUFBO0VBQ0Esa0NBQUE7RUFDQSxtQkFBQTtBQUFOOztBQUdJO0VBQ0U7SUFBSyx1QkFBQTtFQUNUO0VBQUk7SUFBTyx5QkFBQTtFQUdYO0FBQ0Y7QUFESTtFQUNFLFdBQUE7RUFDQSxtQkFBQTtBQUdOOztBQUFJO0VBQ0UsV0FBQTtFQUNBLGdCQUFBO0VBQ0EsbUJBQUE7QUFHTjs7QUFBSTtFQUNFLGtCQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0VBQ0EsZUFBQTtFQUNBLGdCQUFBO0VBQ0EsZUFBQTtFQUNBLHlCQUFBO0FBR047O0FBQUk7RUFDRSxtQkFBQTtFQUNBLFlBQUE7QUFHTjs7QUFBSTtFQUNFLG1CQUFBO0VBQ0EsMkJBQUE7QUFHTiIsInNvdXJjZXNDb250ZW50IjpbIlxuICAgIC5hdXRoLWNvbnRhaW5lciB7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgbWluLWhlaWdodDogMTAwdmg7XG4gICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjNjY3ZWVhIDAlLCAjNzY0YmEyIDEwMCUpO1xuICAgICAgcGFkZGluZzogMjBweDtcbiAgICB9XG4gICAgXG4gICAgLmF1dGgtY2FyZCB7XG4gICAgICBiYWNrZ3JvdW5kOiB3aGl0ZTtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDEycHg7XG4gICAgICBwYWRkaW5nOiA0MHB4O1xuICAgICAgYm94LXNoYWRvdzogMCAxMHB4IDMwcHggcmdiYSgwLCAwLCAwLCAwLjEpO1xuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgbWF4LXdpZHRoOiA0MDBweDtcbiAgICAgIHdpZHRoOiAxMDAlO1xuICAgIH1cbiAgICBcbiAgICAubG9hZGluZy1jb250YWluZXIge1xuICAgICAgcGFkZGluZzogMjBweDtcbiAgICB9XG4gICAgXG4gICAgLmVycm9yLWNvbnRhaW5lciB7XG4gICAgICBwYWRkaW5nOiAyMHB4O1xuICAgIH1cbiAgICBcbiAgICAuc3Bpbm5lciB7XG4gICAgICB3aWR0aDogNDBweDtcbiAgICAgIGhlaWdodDogNDBweDtcbiAgICAgIGJvcmRlcjogNHB4IHNvbGlkICNmM2YzZjM7XG4gICAgICBib3JkZXItdG9wOiA0cHggc29saWQgIzY2N2VlYTtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICAgIGFuaW1hdGlvbjogc3BpbiAxcyBsaW5lYXIgaW5maW5pdGU7XG4gICAgICBtYXJnaW46IDAgYXV0byAyMHB4O1xuICAgIH1cbiAgICBcbiAgICBAa2V5ZnJhbWVzIHNwaW4ge1xuICAgICAgMCUgeyB0cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTsgfVxuICAgICAgMTAwJSB7IHRyYW5zZm9ybTogcm90YXRlKDM2MGRlZyk7IH1cbiAgICB9XG4gICAgXG4gICAgaDIge1xuICAgICAgY29sb3I6ICMzMzM7XG4gICAgICBtYXJnaW4tYm90dG9tOiAxNnB4O1xuICAgIH1cbiAgICBcbiAgICBwIHtcbiAgICAgIGNvbG9yOiAjNjY2O1xuICAgICAgbGluZS1oZWlnaHQ6IDEuNTtcbiAgICAgIG1hcmdpbi1ib3R0b206IDI0cHg7XG4gICAgfVxuICAgIFxuICAgIC5idG4ge1xuICAgICAgcGFkZGluZzogMTJweCAyNHB4O1xuICAgICAgYm9yZGVyOiBub25lO1xuICAgICAgYm9yZGVyLXJhZGl1czogNnB4O1xuICAgICAgZm9udC1zaXplOiAxNnB4O1xuICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7XG4gICAgfVxuICAgIFxuICAgIC5idG4tcHJpbWFyeSB7XG4gICAgICBiYWNrZ3JvdW5kOiAjNjY3ZWVhO1xuICAgICAgY29sb3I6IHdoaXRlO1xuICAgIH1cbiAgICBcbiAgICAuYnRuLXByaW1hcnk6aG92ZXIge1xuICAgICAgYmFja2dyb3VuZDogIzVhNmZkODtcbiAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMnB4KTtcbiAgICB9XG4gICJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}","map":{"version":3,"names":["CommonModule","i0","ɵɵelementStart","ɵɵelement","ɵɵtext","ɵɵelementEnd","ɵɵlistener","SuccessComponent_div_3_Template_button_click_5_listener","ɵɵrestoreView","_r1","ctx_r1","ɵɵnextContext","ɵɵresetView","goToLogin","ɵɵadvance","ɵɵtextInterpolate","error","SuccessComponent","constructor","route","router","authService","isLoading","ngOnInit","queryParams","subscribe","params","token","localStorage","setItem","checkAuthStatus","setTimeout","navigate","ɵɵdirectiveInject","i1","ActivatedRoute","Router","i2","AuthService","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","SuccessComponent_Template","rf","ctx","ɵɵtemplate","SuccessComponent_div_2_Template","SuccessComponent_div_3_Template","ɵɵproperty","i3","NgIf","styles"],"sources":["/home/sina/Projects/Hobby/hobby-frontend/src/app/components/auth/success/success.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { AuthService } from '../../../services/auth.service';\n\n@Component({\n  selector: 'app-success',\n  standalone: true,\n  imports: [CommonModule],\n  template: `\n    <div class=\"auth-container\">\n      <div class=\"auth-card\">\n        <div *ngIf=\"isLoading\" class=\"loading-container\">\n          <div class=\"spinner\"></div>\n          <h2>Signing you in...</h2>\n          <p>Please wait while we complete your authentication.</p>\n        </div>\n        \n        <div *ngIf=\"error\" class=\"error-container\">\n          <h2>Authentication Failed</h2>\n          <p>{{ error }}</p>\n          <button (click)=\"goToLogin()\" class=\"btn btn-primary\">\n            Try Again\n          </button>\n        </div>\n      </div>\n    </div>\n  `,\n  styles: [`\n    .auth-container {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      min-height: 100vh;\n      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n      padding: 20px;\n    }\n    \n    .auth-card {\n      background: white;\n      border-radius: 12px;\n      padding: 40px;\n      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);\n      text-align: center;\n      max-width: 400px;\n      width: 100%;\n    }\n    \n    .loading-container {\n      padding: 20px;\n    }\n    \n    .error-container {\n      padding: 20px;\n    }\n    \n    .spinner {\n      width: 40px;\n      height: 40px;\n      border: 4px solid #f3f3f3;\n      border-top: 4px solid #667eea;\n      border-radius: 50%;\n      animation: spin 1s linear infinite;\n      margin: 0 auto 20px;\n    }\n    \n    @keyframes spin {\n      0% { transform: rotate(0deg); }\n      100% { transform: rotate(360deg); }\n    }\n    \n    h2 {\n      color: #333;\n      margin-bottom: 16px;\n    }\n    \n    p {\n      color: #666;\n      line-height: 1.5;\n      margin-bottom: 24px;\n    }\n    \n    .btn {\n      padding: 12px 24px;\n      border: none;\n      border-radius: 6px;\n      font-size: 16px;\n      font-weight: 500;\n      cursor: pointer;\n      transition: all 0.3s ease;\n    }\n    \n    .btn-primary {\n      background: #667eea;\n      color: white;\n    }\n    \n    .btn-primary:hover {\n      background: #5a6fd8;\n      transform: translateY(-2px);\n    }\n  `]\n})\nexport class SuccessComponent implements OnInit {\n  isLoading = true;\n  error: string | null = null;\n\n  constructor(\n    private route: ActivatedRoute,\n    private router: Router,\n    private authService: AuthService\n  ) {}\n\n  ngOnInit(): void {\n    this.route.queryParams.subscribe(params => {\n      const token = params['token'];\n      \n      if (token) {\n        // Store the token\n        localStorage.setItem('token', token);\n        \n        // Update auth service\n        this.authService.checkAuthStatus();\n        \n        // Redirect to dashboard after a short delay\n        setTimeout(() => {\n          this.router.navigate(['/dashboard']);\n        }, 2000);\n      } else {\n        this.error = 'No authentication token received';\n        this.isLoading = false;\n      }\n    });\n  }\n\n  goToLogin(): void {\n    this.router.navigate(['/login']);\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}